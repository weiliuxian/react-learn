# 组件状态
组件状态：组件可以自行维护的数据，仅在类组件中有效；
状态（state）：本质上是类组件的一个属性，是一个对象

**状态初始化**
有两种初始化方式
 this.state = {
    left: this.props.number
 }

**状态的变化**
不能直接改变状态：因为react无法监控到状态发生了变化
必须使用this.setState({})改变状态
一旦调用了this.setState(),会导致组件重新渲染


**组件中的数据**
1、props：该数据是由组件的使用者传递的数据，所有权不属于组件自身，因此组件无法该数据
2、state：该数据是组件自身创建，所有权属于自身，因此该组件有权改变该数据



# ref: 引用
场景： 希望直接使用dom元素中的某个方法，或者希望直接使用自定义组件中的某个方法

1. ref作用于内置的html组件，得到的将是真实的dom对象
2. ref作用于类组件，得到的将是类的对象
3. ref不能作用于函数组件

ref不在推荐使用字符串赋值，字符串赋值的方式将来可能会被移除
目前ref推荐使用对象或者函数

1. 对象： 通过React.createRef函数创建
在constructor构造函数里面创建，this.txt = React.creatRef(),那么如果要操作dom，就要通过this.txt.current来调用方法

2. 函数：
ref = (el) => this.txt = el, 函数传递一个dom参数，操作dom可以直接使用this.txt调用方法
函数调用时间：
   1. 在componentDidMount钩子函数会调用该函数，在componentDidMount事件中可以使用ref
   2. 如果ref的值发生了变动（旧的函数被新的函数替代），分别调用旧的函数和新的函数，时间点在出现在componentDidUpdate之前，
      旧的函数被调用时，传递的是null，新函数调用时传递的是对象

   3. 如果不希望ref被新的函数替代，可以在在实例上添加函数getRef= el=> this.txt = el,然后在把函数赋值给ref，
      那么这个函数就只会在componentDidMount和componentWillUnmount卸载时调用

**谨慎使用ref**
能够使用属性和状态进行控制，就不要使用ref

1. 调用真实的dom对象中的方法
2. 某个时候需要调用类组件的方法


# ref转发
React.forwardRef方法：传递一个函数组件A，得到一个新的组件newA
1. 参数：函数组件,不能是类组件，并且函数组件需要有第二个参数来获取ref
2. 返回一个新的组件
